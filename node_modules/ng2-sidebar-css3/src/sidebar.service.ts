import { Subscription } from 'rxjs/Rx';
import { Injectable } from '@angular/core';
import { Subject } from 'rxjs';

@Injectable()
export class SidebarService {

    private closeObserver: Subject<void>;
    private openObserver: Subject<void>;

    constructor() {
        this.closeObserver = new Subject<void>();
        this.openObserver = new Subject<void>();
    }

    close() {
        this.closeObserver.next();
    }

    open() {
        this.openObserver.next();
    }

    onClose(fn: () => void): Subscription {
        return this.closeObserver.subscribe(fn);
    }

    onOpen(fn: () => void): Subscription {
        return this.openObserver.subscribe(fn);
    }
}
